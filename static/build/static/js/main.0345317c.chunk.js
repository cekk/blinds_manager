(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{144:function(e,t){},147:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(71),r=n.n(i),c=n(72),l=n(73),s=n(74),u=n(84),d=n(75),f=n(85),p=n(43),m=n(155),b=n(152),v=n(9),g=n(149),h=n(153),O=n(154),E=n(150),y=n(151),j=n(44),w=n(39),k=n.n(w);var x=function(e){var t=e.name,n=e.id,a=e.online,i=void 0!==a&&a,r=e.action,c=void 0===r?"stop":r,l=function(e){var t=e.id,n=e.action;k.a.get("/roller/".concat(t,"/").concat(n))};return o.a.createElement(v.a,{height:"200px",bg:"gray.200",textAlign:"center"},o.a.createElement(g.a,null,t),o.a.createElement(v.a,null,o.a.createElement(O.a,{variantColor:i?"green":"red"},i?"online":"offline")),o.a.createElement(v.a,null,o.a.createElement(E.a,{fontSize:"sm",fontWeight:"bold"},"Current action: ",c)),o.a.createElement(y.a,{variant:"outline",variantColor:"teal","aria-label":"Open",fontSize:"20px",disabled:"open"===c||!i,icon:j.b,onClick:function(){l({id:n,action:"open"})},margin:"10px"}),o.a.createElement(y.a,{variant:"outline",variantColor:"teal","aria-label":"Stop",fontSize:"20px",icon:j.c,disabled:!i,onClick:function(){l({id:n,action:"stop"})},margin:"10px"}),o.a.createElement(y.a,{variant:"outline",variantColor:"teal","aria-label":"Close",fontSize:"20px",icon:j.a,disabled:"close"===c||!i,onClick:function(){l({id:n,action:"close"})},margin:"10px"}))};var S=function(e){var t=e.blinds;return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{columns:3,spacing:10,m:"1em"},t.map((function(e){return o.a.createElement(x,Object.assign({key:e.id},e))}))),o.a.createElement(x,{key:"all",id:"all",name:"All",online:!0,m:"10px"}))},C=n(83),P=n.n(C);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).updateBlindInfos=function(t){var n=e.state.blinds.map((function(e){return e.id!==t.id?e:z({},e,{},t)}));e.setState(z({},e.state,{blinds:n}))},e.state={isFetching:!0,error:!1,blinds:[]},e}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.get("/blinds").then((function(t){var n=t.status,a=t.data;if(200!==n)return console.error("Unable to fetch: ".concat(n)),void e.setState(z({},e.state,{isFetching:!1,error:!0}));e.setState(z({},e.state,{isFetching:!1,blinds:a}));var o=P()();o.on("connect",(function(){})),o.on("online",(function(t){e.updateBlindInfos(t)})),o.on("position",(function(t){e.updateBlindInfos(t)})),o.on("action",(function(t){e.updateBlindInfos(t)})),o.on("disconnect",(function(){}))})).catch((function(t){console.trace(t),e.setState(z({},e.state,{isFetching:!1,error:!0}))}))}},{key:"render",value:function(){return o.a.createElement(p.a,{theme:b.a},o.a.createElement(m.a,null),o.a.createElement(v.a,{w:"100%"},o.a.createElement(g.a,{as:"h1",size:"2xl",textAlign:"center"},"Blinds"),o.a.createElement(S,{blinds:this.state.blinds})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,n){e.exports=n(147)}},[[86,1,2]]]);
//# sourceMappingURL=main.0345317c.chunk.js.map