(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{146:function(e,t){},150:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(72),r=n.n(i),c=n(73),l=n(74),s=n(75),u=n(86),d=n(76),f=n(87),m=n(33),p=n(159),b=n(155),g=n(9),v=n(152),h=n(157),E=n(156),O=n(158),y=n(153),j=n(154),w=n(36),k=n(34),x=n.n(k);function C(e){var t=e.position,n=e.id;return t?o.a.createElement(E.d,{defaultValue:t,onChange:function(e){x.a.get("/roller/".concat(n,"/position/").concat(e))}},o.a.createElement(E.c,{bg:"red.100"}),o.a.createElement(E.a,{bg:"tomato"}),o.a.createElement(E.b,{size:6},o.a.createElement(g.a,{color:"tomato",as:w.a}))):""}var S=function(e){var t=e.name,n=e.id,a=e.online,i=void 0!==a&&a,r=e.action,c=void 0===r?"stop":r,l=e.position,s=function(e){var t=e.id,n=e.action;x.a.get("/roller/".concat(t,"/").concat(n))};return o.a.createElement(g.a,{height:"200px",bg:"gray.200",textAlign:"center"},o.a.createElement(v.a,null,t),o.a.createElement(g.a,null,o.a.createElement(O.a,{variantColor:i?"green":"red"},i?"online":"offline")),o.a.createElement(g.a,null,o.a.createElement(y.a,{fontSize:"sm",fontWeight:"bold"},"Current action: ",c)),o.a.createElement(g.a,null,o.a.createElement(y.a,{fontSize:"sm",fontWeight:"bold"},"Current position: ",l?"".concat(l,"%"):"..."),o.a.createElement(C,{id:n,position:l})),o.a.createElement(j.a,{variant:"outline",variantColor:"teal","aria-label":"Open",fontSize:"20px",disabled:"open"===c||!i,icon:w.b,onClick:function(){s({id:n,action:"open"})},margin:"10px"}),o.a.createElement(j.a,{variant:"outline",variantColor:"teal","aria-label":"Stop",fontSize:"20px",icon:w.c,disabled:!i,onClick:function(){s({id:n,action:"stop"})},margin:"10px"}),o.a.createElement(j.a,{variant:"outline",variantColor:"teal","aria-label":"Close",fontSize:"20px",icon:w.a,disabled:"close"===c||!i,onClick:function(){s({id:n,action:"close"})},margin:"10px"}))};var P=function(e){var t=e.blinds;return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{columns:3,spacing:10,m:"1em"},t.map((function(e){return o.a.createElement(S,Object.assign({key:e.id},e))}))),o.a.createElement(S,{key:"all",id:"all",name:"All",online:!0,m:"10px"}))},z=n(84),B=n.n(z),D=n(85),F=n.n(D);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).updateBlindInfos=function(t){var n=e.state.blinds,a=n.filter((function(e){return e.id===t.id}))[0];if(!F()(a,W({},a,{},t))){var o=n.map((function(e){return e.id!==t.id?e:W({},e,{},t)}));e.setState(W({},e.state,{blinds:o}))}},e.state={isFetching:!0,error:!1,blinds:[]},e}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;x.a.get("/blinds").then((function(t){var n=t.status,a=t.data;if(200!==n)return console.error("Unable to fetch: ".concat(n)),void e.setState(W({},e.state,{isFetching:!1,error:!0}));e.setState(W({},e.state,{isFetching:!1,blinds:a}));var o=B()();o.on("connect",(function(){})),o.on("online",(function(t){e.updateBlindInfos(t)})),o.on("position",(function(t){e.updateBlindInfos(t)})),o.on("action",(function(t){e.updateBlindInfos(t)})),o.on("disconnect",(function(){}))})).catch((function(t){console.trace(t),e.setState(W({},e.state,{isFetching:!1,error:!0}))}))}},{key:"render",value:function(){return o.a.createElement(m.a,{theme:b.a},o.a.createElement(p.a,null),o.a.createElement(g.a,{w:"100%"},o.a.createElement(v.a,{as:"h1",size:"2xl",textAlign:"center"},"Blinds"),o.a.createElement(P,{blinds:this.state.blinds})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},88:function(e,t,n){e.exports=n(150)}},[[88,1,2]]]);
//# sourceMappingURL=main.e9e55543.chunk.js.map